#uCore Lab8 Report
@author 张敬卿 2012011380

## 练习一

1. 实现过程：从offset到endpos这些位置所代表的block进行io操作。首先判断开头是否能够对齐block， 是的话就用buf\_io的操作；然后中间的每个block用的是blk\_io的操作；最后再判断结尾是否不满一个block，是的话也用buf\_io 的操作。ret返回是否操作成功，alen返回操作成功长度。
2. 问题回答：新增系统调用pipe\_new，pipe\_read，pipe\_write来负责管道的新建，读入和输出。管道内维护如下信息：读指针，写指针，信号量和数据区。两个指针重合时为缓冲区空，写指针在读指针前一格时为缓冲区满。然后信号量保证有一个进程在写的 时候其他进程不能操作，并可以让无法读写的时候让进程进入睡眠，在完成读写操作时可以唤醒相应的等待进程。

## 练习二

1. 问题回答：硬链接的话，直接在新建inode的时候让disk_inode也等于目标的disk\_inode即可。删除的时候要麻烦一点，需要查看disk\_inode 是否已经没有硬链接了，如果是的话才去删除它。软链接的话增加一个string表示软链接的目的地址。如果对这种类型的inode进行读写操作的话，需要解析它所指向的目的地址，再次进行地址解析，并在解析成功之后对目的的inode进行相同的操作。如果解析不成功则返回找不到文件错误。
